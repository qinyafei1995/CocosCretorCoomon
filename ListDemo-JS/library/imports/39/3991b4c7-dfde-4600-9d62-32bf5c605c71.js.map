{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\TestAdaptive.js"],"names":["List","require","cc","Class","extends","Component","properties","list","avatar1SF","SpriteFrame","avatar2SF","bubble1SF","bubble2SF","onLoad","data","type","text","numItems","length","onListRender","item","idx","avatarNode","getChildByName","avatar","getComponentInChildren","Sprite","timeNode","time","Label","chatBg","getComponent","chatBgLayout","node","Layout","richtext","RichText","active","h","minH","offset","x","spriteFrame","string","updateLayout","y","height"],"mappings":"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","file":"TestAdaptive.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["/******************************************\n * @author kL <klk0@qq.com>\n * @date 2019/8/30\n * @doc TestAdaptive.\n * @end\n ******************************************/\nconst List = require('List');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        list: List,\n        avatar1SF: cc.SpriteFrame,\n        avatar2SF: cc.SpriteFrame,\n        bubble1SF: cc.SpriteFrame,\n        bubble2SF: cc.SpriteFrame,\n    },\n\n    onLoad: function () {\n        this.data = [\n            {\n                type: 3,\n                text: '8月30日 1:37'\n            },\n            {\n                type: 1,\n                text: '烧吧，升起<color=#cc6600>糜烂</color>的烟。\\n抽吧，吐出全身的疲惫。'\n            },\n            {\n                type: 2,\n                text: '遗忘，那些琐碎的一切。\\n迷惘，在自己<color=#cc6600>虚空</color>的世界。'\n            },\n            {\n                type: 3,\n                text: '昨天 3:17'\n            },\n            {\n                type: 1,\n                text: '一起做个<color=#cc6600>拜金主义</color>的毒虫。'\n            },\n            {\n                type: 2,\n                text: '用<color=#cc6600>消费</color>麻醉自己。'\n            },\n            {\n                type: 1,\n                text: '用称作<color=#cc6600>物质欲望</color>的<color=#cc6600>针头</color>。'\n            },\n            {\n                type: 2,\n                text: '注射<color=#cc6600>贪婪</color>和<color=#cc6600>权力</color>。'\n            },\n            {\n                type: 3,\n                text: '14:55'\n            },\n            {\n                type: 1,\n                text: '<color=#cc6600>磨碎中下阶级的粉末，\\n化成高纯度的上流。</color>'\n            },\n            {\n                type: 1,\n                text: '渴望金字塔顶端的堕落<color=#cc6600>失心疯</color>，\\n的你和我。'\n            },\n            {\n                type: 2,\n                text: '的你和我。'\n            },\n            {\n                type: 3,\n                text: '23:56'\n            },\n            {\n                type: 2,\n                text: '<color=#cc6600>拜金主义</color>——！'\n            },\n            {\n                type: 1,\n                text: '<color=#cc6600>拜金主义</color>——！'\n            },\n            {\n                type: 2,\n                text: '<color=#cc6600>拜金主义</color>——！'\n            },\n            {\n                type: 1,\n                text: '<color=#cc6600>拜金主义</color>的毒虫——！'\n            },\n            {\n                type: 1,\n                text: '<color=#cc6600>拜金主义</color>——！'\n            },\n            {\n                type: 2,\n                text: '<color=#cc6600>拜金主义</color>——！'\n            },\n            {\n                type: 1,\n                text: '<color=#cc6600>拜金主义</color>——！'\n            },\n            {\n                type: 2,\n                text: '<color=#cc6600>拜金主义</color>的<color=#ff0000><size=28>毒虫</size></color>——！'\n            },\n            {\n                type: 1,\n                text: '烧吧，升起<color=#cc6600>糜烂</color>的烟。\\n抽吧，吐出全身的疲惫。'\n            },\n            {\n                type: 3,\n                text: '老破麻 - 毒虫'\n            },\n            {\n                type: 2,\n                text: '谢谢观赏<img src=\"37\"/><img src=\"37\"/><img src=\"37\"/>'\n            },\n            {\n                type: 2,\n                text: '上面的文字摘自一首摇滚歌曲——<color=#cc6600>《毒虫》</color>，创作乐队：<color=#cc6600>老破麻</color>。'\n            },\n            {\n                type: 2,\n                text: 'emmmm...我觉得写的很好，唱的也很好。'\n            },\n            {\n                type: 2,\n                text: '<color=#ff0000><size=28>墙裂推荐</size></color>！！！'\n            },\n            {\n                type: 1,\n                text: '嗯，<color=#cc6600>老破麻</color>是一支台湾乐队，目前还很小众。'\n            },\n            {\n                type: 1,\n                text: '但绝对是<color=#ff0000><size=28>宝藏乐队</size></color>！<img src=\"42\"/><img src=\"42\"/><img src=\"42\"/>'\n            },\n            {\n                type: 2,\n                text: '是的没错，他们的风格囊括了<color=#cc6600>摇滚</color>、<color=#cc6600>金属</color>、<color=#cc6600>核</color>，甚至是<color=#cc6600>BossaNova</color>。'\n            },\n            {\n                type: 2,\n                text: '借用<color=#cc6600>张亚东</color>老师的一句经典台词：非常好——<img src=\"15\"/><img src=\"15\"/><img src=\"15\"/>'\n            },\n            {\n                type: 2,\n                text: '好了，我们说一下这个组件<img src=\"22\"/><img src=\"22\"/>'\n            },\n            {\n                type: 1,\n                text: '说毛线，有毛线好说啊，那么简单谁不会用啊！<img src=\"20\"/><img src=\"20\"/>'\n            },\n            {\n                type: 2,\n                text: 'okok...<img src=\"53\"/><img src=\"53\"/>'\n            },\n            {\n                type: 2,\n                text: '有问题可以去我们团队的Github提Issues。<img src=\"39\"/><img src=\"39\"/><img src=\"39\"/>'\n            },\n            {\n                type: 2,\n                text: '链接：\\n<u><color=#cc6600>https://github.com/gh-kL/cocoscreator-list</color></u>'\n            },\n            {\n                type: 1,\n                text: '团你妹夫！就一破组件<img src=\"20\"/><img src=\"20\"/>还团队呢我去'\n            },\n            {\n                type: 2,\n                text: '。。。'\n            },\n            {\n                type: 2,\n                text: '别戳穿我嘛<img src=\"27\"/><img src=\"27\"/>'\n            },\n            {\n                type: 1,\n                text: '我tm<img src=\"39\"/><img src=\"39\"/>'\n            },\n            {\n                type: 2,\n                text: '我希望这个组件大家用了之后会觉得<color=#cc6600>真香</color>，而不是<color=#cc6600>真臭</color><img src=\"37\"/><img src=\"37\"/><img src=\"37\"/>'\n            },\n            {\n                type: 1,\n                text: '我跟你说就你这破组件吃枣药丸<img src=\"32\"/><img src=\"32\"/>'\n            },\n            {\n                type: 2,\n                text: '狗头保命<img src=\"58\"/><img src=\"58\"/><img src=\"58\"/>'\n            },\n            {\n                type: 1,\n                text: '走你！<img src=\"55\"/><img src=\"55\"/><img src=\"55\"/>'\n            },\n            {\n                type: 2,\n                text: '再见了您嘞~<img src=\"29\"/><img src=\"29\"/><img src=\"29\"/>'\n            },\n        ];\n        this.list.numItems = this.data.length;\n    },\n\n    onListRender(item, idx) {\n        let avatarNode = item.getChildByName('avatarNode');\n        let avatar = avatarNode.getComponentInChildren(cc.Sprite);\n        let timeNode = item.getChildByName('timeNode');\n        let time = timeNode.getComponentInChildren(cc.Label);\n        let chatBg = item.getChildByName('chatBg').getComponent(cc.Sprite);\n        let chatBgLayout = chatBg.node.getComponent(cc.Layout);\n        let richtext = chatBg.node.getComponentInChildren(cc.RichText);\n\n        let data = this.data[idx];\n\n        avatarNode.active = chatBg.node.active = data.type != 3;\n        timeNode.active = data.type == 3;\n\n        let h;\n        let minH = 80;\n        let offset = 43;\n\n        switch (data.type) {\n            case 1://对方\n                avatarNode.x = -170;\n                avatar.spriteFrame = this.avatar1SF;\n                chatBg.spriteFrame = this.bubble1SF;\n                richtext.node.x = -108;\n                richtext.string = data.text;\n                chatBgLayout.updateLayout();\n                h = chatBg.node.y + chatBg.node.height + offset;\n                item.height = h < minH ? minH : h;\n                break;\n            case 2://我方\n                avatarNode.x = 170;\n                avatar.spriteFrame = this.avatar2SF;\n                chatBg.spriteFrame = this.bubble2SF;\n                richtext.node.x = -122;\n                richtext.string = data.text;\n                chatBgLayout.updateLayout();\n                h = chatBg.node.y + chatBg.node.height + offset;\n                item.height = h < minH ? minH : h;\n                break;\n            case 3://时间 或 其他啥的\n                time.string = data.text;\n                item.height = 60;\n                break;\n        }\n    },\n\n});"]}